
# HG changeset patch
# User Geoff Lankow <geoff@darktrojan.net>
# Date 1763416532 -46800
# Node ID b5f8b712768dccc42f0ab2eb7ac5692b283a93f5
# Parent  c10366f3385d7cf61c30c696e61c6798e7ecc5d8
Bug 2000109 - Update folder type attribute even when the folder has no type. r=vineet

Differential Revision: https://phabricator.services.mozilla.com/D272551

diff --git a/mail/base/content/widgets/folder-tree-row.mjs b/mail/base/content/widgets/folder-tree-row.mjs
--- a/mail/base/content/widgets/folder-tree-row.mjs
+++ b/mail/base/content/widgets/folder-tree-row.mjs
@@ -426,17 +426,19 @@ class FolderTreeRow extends HTMLLIElemen
 
   /**
    * Sets the folder type property based on the folder for the row.
    *
    * @param {nsIMsgFolder} folder
    */
   setFolderTypeFromFolder(folder) {
     const folderType = lazy.FolderUtils.getSpecialFolderString(folder);
-    if (folderType != "none") {
+    if (folderType == "none") {
+      delete this.dataset.folderType;
+    } else {
       this.dataset.folderType = folderType.toLowerCase();
     }
   }
 
   /**
    * Sets folder properties based on the folder for the row.
    *
    * @param {nsIMsgFolder} folder

