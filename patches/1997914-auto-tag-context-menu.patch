
# HG changeset patch
# User welpy-cw <h.w.forms@arcor.de>
# Date 1762535434 18000
# Node ID 05028ad04657f7b9cce43e9153cc1d9bfb8f9779
# Parent  f04000a6f594200c6dc626244172263277555eef
Bug 1997914 - Display all auto-tags via mail context menu. r=mkmelin

Differential Revision: https://phabricator.services.mozilla.com/D271058

diff --git a/mail/base/content/mailContext.js b/mail/base/content/mailContext.js
--- a/mail/base/content/mailContext.js
+++ b/mail/base/content/mailContext.js
@@ -763,17 +763,18 @@ var mailContextMenu = {
     const currentTags = message
       ? message.getStringProperty("keywords").split(" ")
       : [];
     let index = 1;
 
     for (const tagInfo of MailServices.tags.getAllTags()) {
       const msgHasTag = currentTags.includes(tagInfo.key);
       if (tagInfo.ordinal.includes("~AUTOTAG") && !msgHasTag) {
-        return;
+        index++;
+        continue;
       }
 
       const item = document.createXULElement("menuitem");
       const accessKey = index < 10 ? index : "";
       if (accessKey !== "") {
         item.accessKey = accessKey;
       }
       item.label = messengerBundle.formatStringFromName(

