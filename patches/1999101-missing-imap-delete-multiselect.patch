
# HG changeset patch
# User welpy-cw <h.w.forms@arcor.de>
# Date 1762772156 -7200
# Node ID a5b891bad9fba750e6a46e6e864668539dd7dafd
# Parent  c03da55bb870c725cd1022cc6f9b204d5f5adf22
Bug 1999101 - Fix regression preventing deletion of multi-selected IMAP folders. r=mkmelin

Differential Revision: https://phabricator.services.mozilla.com/D271913

diff --git a/mail/base/content/about3Pane.js b/mail/base/content/about3Pane.js
--- a/mail/base/content/about3Pane.js
+++ b/mail/base/content/about3Pane.js
@@ -372,17 +372,17 @@ var folderPaneContextMenu = {
       isVirtual = true;
       isCompactEnabled = true;
       isJunk = true;
       canRenameDeleteJunkMail = true;
 
       for (const row of folderTree.selection.values()) {
         const folder = MailServices.folderLookup.getFolderForURL(row.uri);
 
-        online &&= !Services.io.offline && !folder.server.offlineSupportLevel;
+        online &&= !Services.io.offline || !folder.server.offlineSupportLevel;
 
         // We only care if a folder doesn't support a specific property, so
         // let's update a variable only if it's still truthy.
         canCompact &&= folder.canCompact;
         isServer &&= folder.isServer;
         deletable &&= folder.deletable;
         isNNTP &&= folder.server.type == "nntp";
         isVirtual &&= folder.flags & Ci.nsMsgFolderFlags.Virtual;

